<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>IPK-5 | Indicador PronÃ³stico KinÃ©sico</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: #eef2f6;
    padding: 16px;
}
.card {
    background: #ffffff;
    max-width: 720px;
    margin: auto;
    padding: 22px;
    border-radius: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
}
h1 {
    text-align: center;
    margin-bottom: 4px;
}
.subtitle {
    text-align: center;
    color: #555;
    margin-bottom: 20px;
}
label {
    font-weight: 600;
    margin-top: 14px;
    display: block;
}
select {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    font-size: 15px;
    border-radius: 8px;
    border: 1px solid #ccc;
}
button {
    width: 100%;
    margin-top: 22px;
    padding: 14px;
    font-size: 16px;
    font-weight: bold;
    background: #0066cc;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}
button:hover {
    background: #004999;
}
.resultado {
    margin-top: 24px;
    padding: 18px;
    border-radius: 14px;
    font-size: 15px;
}
.A { background: #d4edda; }
.B { background: #d1ecf1; }
.C { background: #fff3cd; }
.D { background: #f8d7da; }

small {
    color: #555;
}
.section {
    margin-top: 20px;
    padding-top: 10px;
    border-top: 1px solid #ddd;
}
</style>
</head>

<body>

<div class="card">
<h1>IPK-5</h1>
<div class="subtitle">Indicador PronÃ³stico KinÃ©sico</div>

<label>1ï¸âƒ£ Estabilidad hemodinÃ¡mica / tolerancia al esfuerzo</label>
<select id="v1">
    <option value="0">0 â€“ Inestable / contraindicaciÃ³n</option>
    <option value="5">5 â€“ Estable en reposo</option>
    <option value="10">10 â€“ Estable y tolera esfuerzo</option>
</select>

<label>6ï¸âƒ£ Estado cognitivo funcional</label>
<select id="v6">
    <option value="0">0 â€“ No colabora / delirium</option>
    <option value="5">5 â€“ Colabora funcionalmente</option>
</select>

<label>8ï¸âƒ£ Comorbilidades relevantes</label>
<select id="v8">
    <option value="0">0 â€“ Descompensadas</option>
    <option value="5">5 â€“ Parcialmente limitantes</option>
    <option value="10">10 â€“ Controladas</option>
</select>

<label>9ï¸âƒ£ Precocidad de la intervenciÃ³n</label>
<select id="v9">
    <option value="0">0 â€“ TardÃ­a</option>
    <option value="5">5 â€“ Intermedia</option>
    <option value="10">10 â€“ Precoz</option>
</select>

<div class="section">
<strong>ğŸ”Ÿ Juicio ClÃ­nico KinÃ©sico</strong>

<label>Edad funcional</label>
<select id="edadFuncional">
    <option value="0">0 â€“ Muy deteriorada</option>
    <option value="1">1 â€“ Deterioro severo</option>
    <option value="2">2 â€“ Deterioro moderado</option>
    <option value="3">3 â€“ Leve deterioro</option>
    <option value="4">4 â€“ Conservada</option>
</select>

<label>MotivaciÃ³n</label>
<select id="motivacion">
    <option value="0">0 â€“ Nula</option>
    <option value="1">1 â€“ Muy baja</option>
    <option value="2">2 â€“ Intermitente</option>
    <option value="3">3 â€“ Adecuada</option>
    <option value="4">4 â€“ Alta</option>
</select>

<label>Adherencia esperable</label>
<select id="adherencia">
    <option value="0">0 â€“ Muy improbable</option>
    <option value="1">1 â€“ Baja</option>
    <option value="2">2 â€“ Variable</option>
    <option value="3">3 â€“ Buena</option>
    <option value="4">4 â€“ Muy buena</option>
</select>

<label>Apoyo familiar / cuidador</label>
<select id="apoyo">
    <option value="0">0 â€“ Ausente</option>
    <option value="1">1 â€“ Insuficiente</option>
    <option value="2">2 â€“ Parcial</option>
    <option value="3">3 â€“ Adecuado</option>
    <option value="4">4 â€“ Ã“ptimo</option>
</select>

<label>Reversibilidad del cuadro</label>
<select id="reversibilidad">
    <option value="0">0 â€“ No reversible</option>
    <option value="1">1 â€“ Muy limitada</option>
    <option value="2">2 â€“ Parcial</option>
    <option value="3">3 â€“ Alta</option>
    <option value="4">4 â€“ Muy alta</option>
</select>
</div>

<button onclick="calcularIPK()">Calcular IPK-5</button>

<div id="resultado"></div>
</div>

<script>
function calcularIPK() {
    let v1 = +v1El.value;
    if (v1 === 0) {
        resultado.innerHTML = `
        <div class="resultado D">
        <b>CategorÃ­a D (provisional)</b><br>
        Paciente no apto actualmente.<br>
        <small>Consejo: priorizar estabilidad clÃ­nica, educaciÃ³n y reevaluaciÃ³n.</small>
        </div>`;
        return;
    }

    let v6 = +v6El.value, v8 = +v8El.value, v9 = +v9El.value;
    let edad = +edadFuncional.value, mot = +motivacion.value,
        adh = +adherencia.value, apo = +apoyo.value, rev = +reversibilidad.value;

    let v10 = edad + mot + adh + apo + rev;
    let total = v1 + v6 + v8 + v9 + v10;

    let cat, tiempo, consejo, clase;

    if (total >= 45) {
        cat = "ğŸ…°ï¸ CategorÃ­a A â€“ Muy favorable";
        tiempo = "45â€“60 min";
        consejo = "Entrenamiento progresivo, objetivos ambiciosos, reevaluaciÃ³n funcional frecuente.";
        clase = "A";
    } else if (total >= 30) {
        cat = "ğŸ…±ï¸ CategorÃ­a B â€“ Favorable";
        tiempo = "30â€“40 min";
        consejo = "Trabajo funcional dirigido, reforzar adherencia y progresiÃ³n gradual.";
        clase = "B";
    } else if (total >= 15) {
        cat = "ğŸ…² CategorÃ­a C â€“ Condicionado";
        tiempo = "15â€“20 min";
        consejo = "Intervenciones focalizadas, educaciÃ³n, definir objetivos realistas.";
        clase = "C";
    } else {
        cat = "ğŸ…³ CategorÃ­a D â€“ Desfavorable";
        tiempo = "5â€“10 min / educaciÃ³n";
        consejo = "PrevenciÃ³n de deterioro, educaciÃ³n al cuidador y reevaluaciÃ³n periÃ³dica.";
        clase = "D";
    }

    resultado.innerHTML = `
    <div class="resultado ${clase}">
    <b>Puntaje IPK-5:</b> ${total} / 55<br>
    <b>ClasificaciÃ³n:</b> ${cat}<br>
    <b>â±ï¸ Tiempo sugerido:</b> ${tiempo}<br><br>
    <b>ğŸ§  Consejo clÃ­nico:</b><br>${consejo}<br><br>
    <small><b>Desglose Juicio ClÃ­nico (V10):</b>
    Edad ${edad} Â· MotivaciÃ³n ${mot} Â· Adherencia ${adh} Â· Apoyo ${apo} Â· Reversibilidad ${rev}</small>
    </div>`;
}

const v1El = document.getElementById("v1");
const v6El = document.getElementById("v6");
const v8El = document.getElementById("v8");
const v9El = document.getElementById("v9");
const resultado = document.getElementById("resultado");
</script>

</body>
</html>
